{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/davidsolsona/Documents/GitHub/Legacy/solo-project/client/src/components/Teacher/Students/StudentList/ImportStudent/ImportStudent.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { parse } from 'papaparse';\nimport CreateButton from '../../../../UI/CreateButton/CreateButton';\nimport { importStudents } from '../../../../../store/actions/studentListActions';\nimport styles from './ImportStudent.module.scss';\n\nconst ImportStudent = props => {\n  _s();\n\n  const [highlighted, setHighlighted] = useState(false);\n  const [ss, setSs] = useState([]);\n  const dispatch = useDispatch();\n\n  const dropHandler = e => {\n    e.preventDefault();\n    setHighlighted(false);\n    Array.from(e.dataTransfer.files).filter(file => file.type === \"text/csv\").forEach(async file => {\n      const text = await file.text();\n      const result = parse(text, {\n        header: true\n      });\n      setSs(sts => [...sts, ...result.data]);\n    });\n  };\n\n  const saveHandler = () => {\n    dispatch(importStudents(ss));\n    setTimeout(() => {\n      setSs([]);\n      props.close();\n    }, 500);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.ImportStudent,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${styles.DropDiv} ${highlighted ? styles.Highlighted : styles.NotHighlighted}`,\n      onDragEnter: () => setHighlighted(true),\n      onDragLeave: () => setHighlighted(false),\n      onDragOver: e => e.preventDefault(),\n      onDrop: dropHandler,\n      children: \"Drop your files here\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 8\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.DropList,\n      children: ss.length ? ss.map((st, i) => /*#__PURE__*/_jsxDEV(\"p\", {\n        children: st.name\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this)) : null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.Buttons,\n      children: [/*#__PURE__*/_jsxDEV(CreateButton, {\n        clicked: saveHandler,\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-user-check\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), \" Save\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CreateButton, {\n        clicked: () => setSs([]),\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-user-times\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), \" Discard\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ImportStudent, \"thINhW5svLYBmFtO6ZSYczVd/BI=\", false, function () {\n  return [useDispatch];\n});\n\n_c = ImportStudent;\nexport default ImportStudent;\n\nvar _c;\n\n$RefreshReg$(_c, \"ImportStudent\");","map":{"version":3,"sources":["/Users/davidsolsona/Documents/GitHub/Legacy/solo-project/client/src/components/Teacher/Students/StudentList/ImportStudent/ImportStudent.js"],"names":["React","useState","useDispatch","parse","CreateButton","importStudents","styles","ImportStudent","props","highlighted","setHighlighted","ss","setSs","dispatch","dropHandler","e","preventDefault","Array","from","dataTransfer","files","filter","file","type","forEach","text","result","header","sts","data","saveHandler","setTimeout","close","DropDiv","Highlighted","NotHighlighted","DropList","length","map","st","i","name","Buttons"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { parse } from 'papaparse';\n\nimport CreateButton from '../../../../UI/CreateButton/CreateButton';\nimport { importStudents } from '../../../../../store/actions/studentListActions';\nimport styles from './ImportStudent.module.scss';\n\nconst ImportStudent = props => {\n\n  const [highlighted, setHighlighted] = useState(false);\n  const [ss, setSs] = useState([]);\n\n  const dispatch = useDispatch();\n\n  const dropHandler = e => {\n    e.preventDefault();\n    setHighlighted(false);\n    Array.from(e.dataTransfer.files)\n      .filter((file) => file.type === \"text/csv\")\n      .forEach(async (file) => {\n        const text = await file.text();\n        const result = parse(text, { header: true });\n        setSs((sts) => [...sts, ...result.data]);\n      });\n  };\n\n  const saveHandler = () => {\n    dispatch(importStudents(ss));\n    setTimeout(() => {\n      setSs([]);\n      props.close();\n    }, 500);\n  };\n\n  return (\n    <div className={styles.ImportStudent}>\n       <div\n        className={`${styles.DropDiv} ${highlighted ? styles.Highlighted : styles.NotHighlighted}`}\n        onDragEnter={() => setHighlighted(true)}\n        onDragLeave={() => setHighlighted(false)}\n        onDragOver={(e) => e.preventDefault()}\n        onDrop={dropHandler}\n      >\n        Drop your files here\n      </div>\n      <div className={styles.DropList}>\n        {ss.length ? ss.map((st, i) => (\n          <p key={i}>{st.name}</p>\n        )) : null}\n      </div>\n      <div className={styles.Buttons}>\n        <CreateButton clicked={saveHandler}>\n          <i className=\"fas fa-user-check\"></i> Save\n        </CreateButton>\n        <CreateButton clicked={() => setSs([])}>\n          <i className=\"fas fa-user-times\"></i> Discard\n        </CreateButton>\n      </div>\n    </div>\n  );\n};\n\nexport default ImportStudent;\n"]},"metadata":{},"sourceType":"module"}